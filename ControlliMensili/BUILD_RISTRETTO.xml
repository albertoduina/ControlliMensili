<!-- Ant makefile for ContMensili -->
<project name="ContMensili" default="main">
	<property name="output" location="build" />

	<!--target name="main" depends="init, compile, move, jar"-->
	<target name="main" depends="init, compile, move1, jar, move2">

	</target>


	<target name="init" description="initialize">
		<echo message="Eseguo INIT" />
		<buildnumber />
		<tstamp />
		<delete dir="${output}" />
		<mkdir dir="${output}" />
	</target>

	<target name="compile" description="Compile everything.">
		<echo message="Eseguo COMPILE" />
		<!-- Build everything; add debug="on" to debug -->
		<javac srcdir="." destdir="${output}" optimize="on" target="1.5" debug="on" classpath="./ij.jar">
		</javac>
	</target>

	<target name="move1" description="Move the sources.">
		<copy todir="${output}">
			<fileset dir="." includes="*.txt, *.mf"/>
		</copy>
	</target>


	<target name="jar" description="JARs the Task">
		<echo message="Eseguo CREA JAR" />
		<jar destfile="${output}/ContMens_${TODAY}_build${build.number}.jar" basedir="${output}/" />
	</target>

	<target name="clean" description="Delete the build files.">
		<echo message="Eseguo CLEAN" />
		<delete dir="${output}" />

	</target>

	<target name="move2" description="BOH?">
		<echo message="Eseguo MOVE" />
		<delete dir="../ImageJ/Plugins/ContMensili" />
		<mkdir dir="../ImageJ/Plugins/ContMensili" />
		<copy todir="../ImageJ/Plugins/ContMensili">
			<fileset dir="." includes="*.jar" />
			<fileset dir="${output}" includes="*.jar" />
		</copy>
	</target>

</project>

